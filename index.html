<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <title>Playlist Al-Baqarah (Ayat 106–141)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:#f7fbff; color:#21303a; padding:20px; }
    h1 { color:#2da5dd; margin-bottom:8px; text-align:center; }
    #player { width:100%; max-width:900px; margin:20px auto; display:block; }
    #container { max-width:900px; margin:0 auto; }
    #playlist { list-style:none; padding:0; margin:0; }
    #playlist li { padding:10px 12px; margin:6px 0; background:#e6f2fb; border:1px solid #cfeefa; border-radius:8px; cursor:pointer; transition:background .15s; }
    #playlist li:hover { background:#d5ecfb; }
    #playlist li.active { background:#2da5dd; color:white; font-weight:600; }
    .meta { font-size:0.9rem; color:#4a4a4a; margin-bottom:10px; text-align:center; }
    footer { font-size:0.85rem; color:#666; margin-top:18px; text-align:center; }
  </style>
</head>
<body>
  <div id="container">
    <h1>Playlist — Surah Al-Baqarah (Ayat 106–141)</h1>
    <div class="meta">Klik salah satu ayat untuk memutar. Pemutaran otomatis lanjut ke ayat berikutnya setelah selesai.</div>

    <audio id="player" controls preload="none"></audio>

    <ul id="playlist"></ul>

    <footer>Hosted on GitHub Pages • Jika pemutaran otomatis tidak bekerja, tekan tombol Play pada pemutar.</footer>
  </div>

  <script>
    // --- sesuaikan dengan repo kamu ---
    const GITHUB_USER = 'smp-saf';
    const GITHUB_REPO = 'hafalankelas9';
    const GITHUB_BRANCH = 'main';
    const baseRaw = `https://raw.githubusercontent.com/${GITHUB_USER}/${GITHUB_REPO}/${GITHUB_BRANCH}/`;

    // --- daftar file mp3 persis seperti di repo ---
    const files = [
      "115 Al-Baqarah ayat 106.mp3",
      "116 Al-Baqarah ayat 107.mp3",
      "117 Al-Baqarah ayat 108.mp3",
      "118 Al-Baqarah ayat 109.mp3",
      "119 Al-Baqarah ayat 110.mp3",
      "120 Al-Baqarah ayat 111.mp3",
      "121 Al-Baqarah ayat 112.mp3",
      "122 Al-Baqarah ayat 113.mp3",
      "123 Al-Baqarah ayat 114.mp3",
      "124 Al-Baqarah ayat 115.mp3",
      "125 Al-Baqarah ayat 116.mp3",
      "126 Al-Baqarah ayat 117.mp3",
      "127 Al-Baqarah ayat 118.mp3",
      "128 Al-Baqarah ayat 119.mp3",
      "129 Al-Baqarah ayat 120.mp3",
      "130 Al-Baqarah ayat 121.mp3",
      "131 Al-Baqarah ayat 122.mp3",
      "132 Al-Baqarah ayat 123.mp3",
      "133 Al-Baqarah ayat 124.mp3",
      "134 Al-Baqarah ayat 125.mp3",
      "135 Al-Baqarah ayat 126.mp3",
      "136 Al-Baqarah ayat 127.mp3",
      "137 Al-Baqarah ayat 128.mp3",
      "138 Al-Baqarah ayat 129.mp3",
      "139 Al-Baqarah ayat 130.mp3",
      "140 Al-Baqarah ayat 131.mp3",
      "141 Al-Baqarah ayat 132.mp3",
      "142 Al-Baqarah ayat 133.mp3",
      "143 Al-Baqarah ayat 134.mp3",
      "144 Al-Baqarah ayat 135.mp3",
      "145 Al-Baqarah ayat 136.mp3",
      "146 Al-Baqarah ayat 137.mp3",
      "147 Al-Baqarah ayat 138.mp3",
      "148 Al-Baqarah ayat 139.mp3",
      "149 Al-Baqarah ayat 140.mp3",
      "150 Al-Baqarah ayat 141.mp3"
    ];

    const playlistEl = document.getElementById('playlist');
    const player = document.getElementById('player');
    let currentIndex = 0;

    // Build playlist UI
    files.forEach((name, idx) => {
      const li = document.createElement('li');
      li.textContent = name.replace(/\.mp3$/,''); // tampilkan tanpa .mp3
      li.dataset.src = baseRaw + encodeURIComponent(name);
      li.addEventListener('click', () => playTrack(idx));
      playlistEl.appendChild(li);
    });

    const items = playlistEl.querySelectorAll('li');

    function setActive(i) {
      items.forEach(x => x.classList.remove('active'));
      if (items[i]) items[i].classList.add('active');
    }

    function playTrack(i) {
      if (i < 0 || i >= items.length) return;
      currentIndex = i;
      const src = items[i].dataset.src;
      player.src = src;
      setActive(i);
      player.play().catch(err => {
        console.log('Autoplay blocked or play failed:', err);
      });
    }

    // Auto next on ended
    player.addEventListener('ended', () => {
      if (currentIndex < items.length - 1) {
        playTrack(currentIndex + 1);
      }
    });

    // Set first track
    setActive(0);
  </script>
</body>
</html>
